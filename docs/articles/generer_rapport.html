<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>generer_rapport • firstlib.Remi</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="generer_rapport_files/libs/quarto-html/popper.min.js"></script><script src="generer_rapport_files/libs/quarto-html/tippy.umd.min.js"></script><link href="generer_rapport_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="generer_rapport_files/libs/quarto-html/light-border.css" rel="stylesheet">
<!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="generer_rapport">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">firstlib.Remi</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/generer_rapport.html">UNKNOWN TITLE</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-quarto">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1></h1>





      <div class="d-none name"><code></code></div>
    </div>






    <hr>
<p>title: “Générer un rapport d’analyses” author: “Houssais Rémi” output: quarto::html VignetteBuilder: quarto —</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Charger la bibliothèque nécessaire</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://remi-houssais.github.io/firstlib-Remi/">firstlib.Remi</a></span><span class="op">)</span></span>
<span><span class="co"># Introduction</span></span></code></pre></div>
</div>
<p>Dans cette vignette, nous allons explorer trois fonctions principales utilisées dans le package <code>firstlib.Remi</code> : 1. <code><a href="../reference/summary_commune.html">summary_commune()</a></code> 2. <code><a href="../reference/summary_departement.html">summary_departement()</a></code> 3. <code><a href="../reference/generer_rapport.html">generer_rapport()</a></code></p>
<p>Nous allons expliquer comment utiliser ces fonctions pour générer des résumés statistiques sur les élus d’une commune et d’un département, puis produire un rapport personnalisé.</p>
<section class="section level2"><h2 id="la-fonction-summary_commune">1. La fonction <code>summary_commune()</code>
<a class="anchor" aria-label="anchor" href="#la-fonction-summary_commune"></a>
</h2>
<p>La fonction <code><a href="../reference/summary_commune.html">summary_commune()</a></code> génère un résumé détaillé des élus dans une commune donnée. Ce résumé inclut des informations sur les élus, telles que leur âge et leur répartition par tranche d’âge.</p>
<section class="level3"><h4 id="utilisation-de-summary_commune">Utilisation de <code>summary_commune()</code>:<a class="anchor" aria-label="anchor" href="#utilisation-de-summary_commune"></a>
</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Charger les données pour la commune de Nantes</span></span>
<span><span class="va">df_nantes</span> <span class="op">&lt;-</span> <span class="va">elus_conseillers_municipaux_cm_1_</span><span class="op">[</span><span class="va">elus_conseillers_municipaux_cm_1_</span><span class="op">$</span><span class="va">Libellé.de.la.commune</span> <span class="op">==</span> <span class="st">"Nantes"</span>, <span class="op">]</span></span>
<span></span>
<span><span class="co"># Modifier la classe de l'objet pour le rendre compatible avec la fonction summary_commune</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">df_nantes</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"commune"</span>, <span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">df_nantes</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Appeler la fonction summary_commune pour obtenir le résumé de la commune</span></span>
<span><span class="fu"><a href="../reference/summary_commune.html">summary_commune</a></span><span class="op">(</span><span class="va">df_nantes</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 4
  Nom.de.l.élu Prénom.de.l.élu Date.de.naissance   Âge
  &lt;chr&gt;        &lt;chr&gt;           &lt;date&gt;            &lt;int&gt;
1 PROCHASSON   François        1952-02-28           73
Nom de la commune : Nantes
Nombre d'élu.e.s : 66
Distribution des âges des élu.e.s :
      0%      25%      50%      75%     100%
28.20548 43.12945 51.06712 58.65616 73.05205
L'élu.e le ou la plus âgé.e :
Nom : PROCHASSON
Prénom : François
Âge : -6517 </code></pre>
</div>
</div>
</section></section><section class="section level2"><h2 id="la-fonction-summary_departement">2. La fonction <code>summary_departement()</code>
<a class="anchor" aria-label="anchor" href="#la-fonction-summary_departement"></a>
</h2>
<p>La fonction <code><a href="../reference/summary_departement.html">summary_departement()</a></code> génère un résumé des élus dans un département donné. Elle fournit des statistiques détaillées sur les élus, telles que leur âge, la répartition des âges, et des informations supplémentaires comme l’élu le plus âgé, le plus jeune, ou les communes ayant les âges moyens les plus faibles ou les plus élevés.</p>
<p>Utilisation de <code><a href="../reference/summary_departement.html">summary_departement()</a></code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Charger les données pour le département de Loire-Atlantique</span></span>
<span><span class="va">df_Loire_atlantique</span> <span class="op">&lt;-</span> <span class="va">elus_conseillers_municipaux_cm_1_</span><span class="op">[</span><span class="va">elus_conseillers_municipaux_cm_1_</span><span class="op">$</span><span class="va">Libellé.du.département</span> <span class="op">==</span> <span class="st">"Loire-Atlantique"</span>, <span class="op">]</span></span>
<span></span>
<span><span class="co"># Modifier la classe de l'objet pour le rendre compatible avec la fonction summary_departement</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">df_Loire_atlantique</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"département"</span>, <span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">df_Loire_atlantique</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Résumé pour le département de Loire-Atlantique (code 44)</span></span>
<span><span class="fu"><a href="../reference/summary_departement.html">summary_departement</a></span><span class="op">(</span><span class="va">df_Loire_atlantique</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'lubridate'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    date, intersect, setdiff, union</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Nom du département : Loire-Atlantique NA
Nombre de communes : 208
Nombre d'élu.e.s : 8123
Distribution des âges des élu.e.s :
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's
  22.00   46.00   54.00   54.38   63.00   84.00    3332
Élu.e le/la plus âgé.e : GERARD , Âge : 84 , Commune : La Plaine-Sur-Mer
Élu.e le/la plus jeune : MERCERON , Âge : 22 , Commune : Saint-Lumine-De-Coutais
Commune avec la moyenne d’âge la plus faible : Ruffigné
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's
   28.0    37.5    44.0    44.4    49.0    70.0    3332
Commune avec la moyenne d’âge la plus élevée : Les Moutiers-En-Retz
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's
  50.00   63.50   70.00   68.58   74.50   81.00    3332 </code></pre>
</div>
</div>
</section><section class="section level2"><h2 id="la-fonction-generer_rapport">3. La fonction <code>generer_rapport()</code>
<a class="anchor" aria-label="anchor" href="#la-fonction-generer_rapport"></a>
</h2>
<p>La fonction <code><a href="../reference/generer_rapport.html">generer_rapport()</a></code> permet de générer un rapport HTML détaillé à partir des données d’une commune et d’un département donnés. Ce rapport est généré sous forme de fichier HTML et inclut les informations traitées par les fonctions <code><a href="../reference/summary_commune.html">summary_commune()</a></code> et <code><a href="../reference/summary_departement.html">summary_departement()</a></code>.</p>
<section class="level3"><h4 id="utilisation-de-generer_rapport">Utilisation de <code>generer_rapport()</code>
<a class="anchor" aria-label="anchor" href="#utilisation-de-generer_rapport"></a>
</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Appeler la fonction générer_rapport pour générer le rapport</span></span>
<span><span class="fu"><a href="../reference/generer_rapport.html">generer_rapport</a></span><span class="op">(</span></span>
<span>  commune <span class="op">=</span> <span class="st">"44109"</span>,         <span class="co"># Code de la commune (Nantes)</span></span>
<span>  departement <span class="op">=</span> <span class="st">"44"</span>,        <span class="co"># Code du département (Loire-Atlantique)</span></span>
<span>  output <span class="op">=</span> <span class="st">"rapport_nantes.html"</span>  <span class="co"># Chemin d'enregistrement du rapport</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>

processing file: rapport.qmd

  |
  |                                                    |   0%
  |
  |.................                                   |  33%
  |
  |...................................                 |  67% [unnamed-chunk-1]
  |
  |....................................................| 100%

output file: rapport.knit.md

pandoc --output ..\..\..\..\..\..\AppData\Local\Temp\RtmpA9GQNa\pkgdown-quarto-1c401834439\rapport_nantes.html
  to: html
  standalone: true
  section-divs: true
  html-math-method: mathjax
  wrap: none
  default-image-extension: png

metadata
  document-css: false
  link-citations: true
  date-format: long
  lang: en
  title: rapport
  author: Rémi Houssais

Output created: ..\..\..\..\..\..\AppData\Local\Temp\RtmpA9GQNa\pkgdown-quarto-1c401834439\rapport_nantes.html</code></pre>
</div>
</div>
</section></section><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'light-border',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config);
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script></main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Rémi HOUSSAIS.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
